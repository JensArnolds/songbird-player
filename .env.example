# File: .env.example
# When adding additional environment variables, update the schema in "/src/env.js"

# Local Development
PORT=3222
NODE_ENV=development

# Next Auth
# Generate a secret: openssl rand -base64 32
# https://next-auth.js.org/configuration/options#secret
AUTH_SECRET="your-generated-secret"
NEXTAUTH_URL=http://127.0.0.1:3222
AUTH_TRUST_HOST=true

# Discord OAuth Provider
AUTH_DISCORD_ID="your-discord-app-id"
AUTH_DISCORD_SECRET="your-discord-app-secret"

# Spotify OAuth Provider (optional - see CLAUDE.md for status)
AUTH_SPOTIFY_ENABLED=false
NEXT_PUBLIC_AUTH_SPOTIFY_ENABLED=false
SPOTIFY_CLIENT_ID="your-spotify-client-id"
SPOTIFY_CLIENT_SECRET="your-spotify-client-secret"

# OAuth debugging (set true to trace auth flow end-to-end in logs)
AUTH_DEBUG_OAUTH=false
NEXT_PUBLIC_AUTH_DEBUG_OAUTH=false
# Frontend callback/auth diagnostics panel (set 1 to enable)
NEXT_PUBLIC_AUTH_DEBUG=0
# Optional: backend auth debug dump token used by frontend server proxy (/api/auth/spotify/debug)
AUTH_DEBUG_TOKEN="your-auth-debug-token"
# OAuth fetch dump route security token:
# GET /api/auth/oauth/fetch-dump requires x-universal-key (or Bearer token) matching UNIVERSAL_KEY.

# Database (single source of truth - no need for separate DB_* variables)
DATABASE_URL="postgresql://user:password@host-pooler.region.aws.neon.tech/database?sslmode=require"

# API
SONGBIRD_API_URL=https://your-api-domain.com
SONGBIRD_API_HEALTH_URI=/api/health
# Optional universal key for service-to-service requests.
# User-scoped `/auth/me` and `/cache/*` calls should use app JWT bearer tokens.
UNIVERSAL_KEY="your-universal-key" # This .env variable makes or breaks the entire api interaction. They need to be in sync at all times.
# Legacy API key alias used by stream/search routes
BLUESIX_API_KEY="your-bluesix-api-key"
# Optional: force browser-side Spotify callback profile fetch origin.
# Use this when frontend and auth API are split across domains (e.g. darkfloor.org -> darkfloor.one).
NEXT_PUBLIC_AUTH_API_ORIGIN="https://your-auth-api-domain.com"
